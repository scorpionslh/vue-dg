(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["DataGrid"]=t(require("vue")):e["DataGrid"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({1247:function(e,t,n){},"284c":function(e,t,n){},4911:function(e,t,n){},"7ddf":function(e,t,n){},8875:function(e,t,n){var r,i,a;(function(n,o){i=[],r=o,a="function"===typeof r?r.apply(t,i):r,void 0===a||(e.exports=a)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var n,r,i,a=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,o=/@([^@]*):(\d+):(\d+)\s*$/gi,u=a.exec(p.stack)||o.exec(p.stack),l=u&&u[1]||!1,s=u&&u[2]||!1,c=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");l===c&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(s-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=n.replace(r,"$1").trim());for(var f=0;f<d.length;f++){if("interactive"===d[f].readyState)return d[f];if(d[f].src===l)return d[f];if(l===c&&d[f].innerHTML&&d[f].innerHTML.trim()===i)return d[f]}return null}}return e}))},"8bbf":function(t,n){t.exports=e},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!==typeof window){var r=window.document.currentScript,i=n("8875");r=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var a=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(n.p=a[1])}function o(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,u=a.length;o<u;o++,i++)r[i]=a[o];return r}var u=n("8bbf"),l=n.n(u);function s(e){return e}var c,d="DataColumn",f=l.a.extend({name:d,props:{title:{type:String},template:{},headTemplate:{type:String},sortOrder:{type:Number},sortDir:{type:String,default:"asc"},field:{type:String},sortable:{type:Boolean,default:!0},render:{},filter:{default:!0},width:{type:String},type:{type:String},values:{type:Array},icon:{type:String},formatOptions:{}},render:function(e){return e("div")}}),p=function(){function e(e){this.items=e}return e.prototype.toList=function(){return this.items()},e.prototype.select=function(t){var n=this;return new e((function(){return n.items().map(t)}))},e.prototype.take=function(t){var n=this;return new e((function(){for(var e=[],r=n.items(),i=0;i<t&&r.length;i++)e.push(r[i]);return e}))},e.prototype.where=function(t){var n=this;return new e((function(){var e=[];return n.items().forEach((function(n){t(n)&&e.push(n)})),e}))},e.prototype.orderBy=function(t){var n=this;return new e((function(){var e=n.items();return e.sort((function(e,n){var r=t(e),i=t(n);return r<i?-1:r>i?1:0})),e}))},e.prototype.selectMany=function(t){var n=this;return new e((function(){var e=[];return n.items().forEach((function(n){t(n).forEach((function(t){return e.push(t)}))})),e}))},e.prototype.concat=function(t){var n=this;return new e((function(){var e=n.items();return e.push.apply(e,t),e}))},e.prototype.groupSorted=function(t){var n=this,r=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0};return new e((function(){for(var e=n.items(),i=[],a=[],o=0;o<e.length;o++){var u=e[o],l=t(u);0!==o&&r(i,l)||(i=l,a.push({key:i,values:[]})),a[a.length-1].values.push(u)}return a}))},e.prototype.groupBy=function(t){var n=this;return new e((function(){var e=[],r={};n.items().forEach((function(e){var n=t(e);r[n]?r[n].push(e):r[n]=[e]}));for(var i=0,a=Object.keys(r);i<a.length;i++){var o=a[i];e.push({key:o,values:r[o]})}return e}))},e.prototype.all=function(e){for(var t=0,n=this.items();t<n.length;t++){var r=n[t];if(!e(r))return!1}return!0},e.prototype.zip=function(t,n){var r=this;return new e((function(){for(var e=[],i=r.items(),a=0;a<i.length;a++)e.push(n(i[a],t[a]));return e}))},e.prototype.sum=function(e){for(var t=0,n=0,r=this.items();n<r.length;n++){var i=r[n];t+=e(i)}return t},e.prototype.any=function(e){for(var t=0,n=this.items();t<n.length;t++){var r=n[t];if(e(r))return!0}return!1},e.prototype.firstOrDefault=function(e){var t=this.toList();if(0!==t.length)return e?t.find(e):t[0]},e.prototype.cast=function(){return this},e}();function h(e){return new p((function(){return e}))}function v(e,t){for(var n=[],r=0;r<t;r++)n.push(e+r);return h(n)}function m(e,t,n){var r=e||"";while(r.length<t)r=n+r;return r.length>t?r.substr(0,t):r}(function(e){e[e["Year"]=0]="Year",e[e["Month"]=1]="Month",e[e["Day"]=2]="Day",e[e["Hour"]=3]="Hour",e[e["Minute"]=4]="Minute",e[e["Second"]=5]="Second"})(c||(c={}));var g,y=[{token:"YYYY",formatter:function(e){return""+e.getFullYear()},setter:function(e,t){return e.year=t},kind:c.Year},{token:"YY",formatter:function(e){return(""+e.getFullYear()).substr(2)},setter:function(e,t){return e.year=t},kind:c.Year},{token:"MM",formatter:function(e){return m(""+(e.getMonth()+1),2,"0")},setter:function(e,t){return e.month=t-1},kind:c.Month},{token:"DD",formatter:function(e){return m(""+e.getDate(),2,"0")},setter:function(e,t){return e.day=t},kind:c.Day},{token:"HH",formatter:function(e){return m(""+e.getHours(),2,"0")},setter:function(e,t){return e.hour=t},kind:c.Hour},{token:"mm",formatter:function(e){return m(""+e.getMinutes(),2,"0")},setter:function(e,t){return e.minute=t},kind:c.Minute},{token:"ss",formatter:function(e){return m(""+e.getSeconds(),2,"0")},setter:function(e,t){return e.second=t},kind:c.Second}];function S(e){var t=[];while(e){var n=b[e[0]],r=n?n.find((function(t){return e.startsWith(t.token)})):void 0;if(r)t.push({type:g.DatePart,part:r}),e=e.substr(r.token.length);else{var i=t.length>0?t[t.length-1]:null;null!=i&&i.type===g.Const?i.value+=e[0]:t.push({type:g.Const,value:e[0]}),e=e.substr(1)}}return t}function k(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function w(e){return S(e).map((function(e){return e.type===g.DatePart?e.part.kind:void 0})).filter((function(e){return void 0!==e}))}(function(e){e[e["Const"]=0]="Const",e[e["DatePart"]=1]="DatePart"})(g||(g={}));var b={};function D(e,t){return S(t).map((function(t){return t.type===g.DatePart?t.part.formatter(e):t.value})).join("")}function P(e,t){for(var n=0,r=null,i=0,a=S(t);i<a.length;i++){var o=a[i],u=o.type===g.Const?o.value:o.part.token;if(o.type===g.DatePart&&(r=o.part.kind),!(e>=n+u.length))return r;n+=u.length}return r}function x(e,t,n){for(var r=0,i=0,a=S(n);i<a.length;i++){var o=a[i],u=o.type===g.Const?o.value:o.part.token;if(!(t>=r+u.length))return o.type===g.Const?o.value[t-r]===e:/^\d+$/gm.test(e);r+=u.length}return!1}function F(e,t){for(var n=0,r=0,i=S(t);r<i.length;r++){var a=i[r],o=a.type===g.Const?a.value:a.part.token;if(!(a.type===g.Const||e>=n+o.length))return Math.max(n,e);n+=o.length}return t.length}function E(e,t){var n=0;if(e>=t.length-1)return t.length;for(var r=0,i=S(t);r<i.length;r++){var a=i[r];if(a.type!==g.Const){var o=a.part.token.length;if(!(e>=n+o))return e<n?n:n+o;n+=o}else n+=a.value.length}return t.length-1}function T(e,t){for(var n=t.length-1,r=S(t),i=r.length-1;i>=0;i--){var a=r[i];if(a.type!==g.Const){var o=a.part.token.length;if(!(e<=n-o+1))return e>n+1?n+1:n-o+1;n-=o}else n-=a.value.length}return 0}function L(e,t){if(!e)return null;for(var n={day:0,hour:0,minute:0,month:0,second:0,year:0},r=S(t),i=0,a=r;i<a.length;i++){var o=a[i];if(!e)return null;if(o.type!==g.Const){var u=o.part,l=e.substr(0,u.token.length);if(!/^\d+$/gm.test(l))return null;e=e.substr(u.token.length),u.setter(n,parseInt(l,10))}else{if(!e.startsWith(o.value))return null;e=e.substr(o.value.length)}}return 0===e.length?new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,0):null}
/*!
 * accounting.js v0.4.2
 * Copyright 2014 Open Exchange Rates
 *
 * Freely distributable under the MIT license.
 * Portions of accounting.js are inspired or borrowed from underscore.js
 *
 * Full details and documentation:
 * http://openexchangerates.github.io/accounting.js/
 */function M(e,t){if(!e)return 0;if("number"===typeof e)return e;var n=new RegExp("[^0-9-.]","g"),r=parseFloat((""+e).replace(/\((?=\d+)(.*)\)/,"-$1").replace(t,".").replace(n,""));return isNaN(r)?0:r}function I(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function V(e,t){t=I(t,2);var n=Number(e+"e"+t),r=Math.round(n);return Number(r+"e-"+t).toFixed(t)}function $(e,t,n,r){var i=M(e,r),a=I(t,2),o=i<0?"-":"",u=parseInt(V(Math.abs(i||0),a),10)+"",l=u.length>3?u.length%3:0;return o+(l?u.substr(0,l)+n:"")+u.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+n)+(a?r+V(Math.abs(i),a).split(".")[1]:"")}h(y).groupBy((function(e){return e.token[0]})).toList().forEach((function(e){return b[e.key]=e.values.sort((function(e,t){return e.token.length<t.token.length?1:-1}))}));var N={},C={yes:"Yes",no:"No",pagerPage:"Page",pagerOfPages:"of",firstPage:"First page",previousPage:"Previous page",nextPage:"Next page",lastPage:"Last page",pageListItemTitle:"Page %page%",filterAccept:"Accept",filterReset:"Reset",dropdownLabel:"Select...",rangeFrom:"From:",rangeTo:"To:",containsValue:"Contains",startsWithValue:"Starts with",endsWithValue:"Ends with",valueNotEqual:"Not equals",valueEqual:"Equals",labelValueEquals:"Equals:"},O={dateFormat:"YYYY-MM-DD",datePlaceholder:"yyyy-mm-dd",timeFormat:"HH:mm",timePlaceholder:"hh:mm",dateTimeFormat:"YYYY-MM-DD HH:mm",dateTimePlaceholder:"yyyy-mm-dd hh:mm",dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNamesFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekStart:1,yearFormat:"{year}",yearRangeFormat:"{from} - {to}",monthFormat:"{month}",monthFirst:!0};function A(e){R(e.settings),Y(e.calendar),U(e.text)}function q(){return O}function Y(e){for(var t=O,n=0,r=Object.getOwnPropertyNames(e);n<r.length;n++){var i=r[n];void 0!==t[i]&&(t[i]=e[i])}}var H,z,j={idField:"id",thousandSeparator:" ",decimalPrecision:2,decimalSeparator:".",ignoreDateOffset:!1,defaultRemoteSource:null};function R(e){for(var t=j,n=0,r=Object.getOwnPropertyNames(e);n<r.length;n++){var i=r[n];void 0!==t[i]&&(t[i]=e[i])}}function W(){return j}function U(e){C=e}function B(e,t){N[e]={name:e,formatter:t.formatter,filterComponent:t.filterComponent,filterParams:t.filterParams}}function G(e){function t(e){return void 0!==e&&null!==e?""+e:""}if(!e||!N[e])return t;var n=N[e].formatter;return n||t}function J(e){if(!e||!N[e])return null;var t=N[e];return t&&t.filterComponent?{component:t.filterComponent,params:t.filterParams}:null}function K(e){return C[e]}function _(e,t){var n=N[e];n&&(n.filterComponent=t)}function X(e){if(e instanceof Date)return e;if("string"!==typeof e)return new Date(e);var t=e.charAt(e.length-1);if("z"===t||"Z"===t)return new Date(e.substr(0,e.length-1));if(e.length<6)return new Date(e);var n=e.charAt(e.length-6),r="+"===n||"-"===n?e.substr(0,e.length-6):e;return new Date(r)}function Z(e,t){return 0===e?"0":e?t?$(e,void 0!==t.precision?t.precision:j.decimalPrecision,void 0!==t.thousand?t.thousand:j.thousandSeparator,void 0!==t.separator?t.separator:j.decimalSeparator):$(e,j.decimalPrecision,j.thousandSeparator,j.decimalSeparator):""}B("bool",{formatter:function(e){return void 0===e||null===e?"":e?C.yes:C.no},filterComponent:"BoolFilter"}),B("date",{formatter:function(e,t){if(!e)return"";var n=X(e);return D(n,"string"===typeof t?t:O.dateFormat)},filterComponent:"DateFilter"}),B("decimal",{formatter:Z,filterComponent:"NumericFilter",filterParams:{decimal:!0}}),B("double",{formatter:Z,filterComponent:"NumericFilter",filterParams:{decimal:!0}}),B("text",{filterComponent:"TextFilter"}),B("int",{formatter:function(e,t){return 0===e?"0":e?t?$(e,0,void 0!==t.thousand?t.thousand:j.thousandSeparator,void 0!==t.separator?t.separator:j.decimalSeparator):$(e,0,j.thousandSeparator,j.decimalSeparator):""},filterComponent:"NumericFilter",filterParams:{decimal:!1}}),B("dateTime",{formatter:function(e,t){if(!e)return"";var n=X(e);return D(n,"string"===typeof t?t:O.dateTimeFormat)},filterComponent:"DateTimeFilter"}),function(e){e["Equals"]="eq",e["GreaterThan"]="gt",e["GraterThanOrEqual"]="gte",e["LowerThan"]="lt",e["LowerThanOrEqual"]="lte",e["NotEqals"]="neq",e["In"]="in",e["Contains"]="substr",e["StartsWith"]="sw",e["EndsWith"]="ew"}(H||(H={})),function(e){e["Asc"]="asc",e["Desc"]="desc"}(z||(z={}));var Q=function(){function e(e){this.onSuccess=function(){},this.onError=function(){},this.onAlways=function(){},this.resolver=e}return e.prototype.success=function(e){return this.onSuccess=e,this},e.prototype.error=function(e){return this.onError=e,this},e.prototype.always=function(e){return this.onAlways=e,this},e.prototype.fetch=function(){this.resolver(this.onSuccess,this.onError,this.onAlways)},e}(),ee={};function te(e,t){ee[e]=t}var ne=[];function re(e){e&&ne.push(e)}function ie(e){if(!e)return e;if(Array.isArray(e)){for(var t=0,n=e;t<n.length;t++){var r=n[t];ie(r)}return e}if("object"===typeof e){for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i];e[o]=ie(e[o])}return e}if("string"===typeof e){var u=/^\/Date\(([0-9]+)\)\/$/.exec(e);return u?new Date(parseInt(u[1],10)):e}return e}function ae(e,t,n){ee[e]=function(r){return{name:e,load:function(e){return{resolver:function(i,a,o){var u=t(r,e),l=new XMLHttpRequest;l.onreadystatechange=function(){if(l.readyState===XMLHttpRequest.DONE)if(o(),l.status<200||l.status>=300)a(l.status);else{var e=JSON.parse(l.responseText),t=n?n(e):e;i(ie(t.items),t.total,u.dataUrl,u.pageUrl)}},l.open("GET",u.pageUrl),ne.forEach((function(e){return e(l)})),l.send()}}}}}}var oe=function(e,t){if(!e)return ue();if("string"===typeof e){if(!t)throw{error:"DataGrid source type is not defined. Use 'type' property or set defaultRemoteSource through configuration."};var n=ee[t];if(n)return n(e);throw{error:"Not supported data source type: "+t+"."}}if(Array.isArray(e))return ce(e);throw{error:"Not supported data type passed as source for grid. Expected string url or array of objects."}};function ue(){return{name:"empty",load:function(){return{resolver:function(e,t,n){e([],0,"no-data","no-data"),n()}}}}}function le(e){return void 0!==e?e:H.Equals}function se(e,t){var n=e[t.field],r=le(t.operator);if(r===H.Equals)return n===t.value;if(r===H.NotEqals)return n!==t.value;if(r===H.Contains)return n instanceof String&&n.indexOf(t.value)>=0;if(r===H.StartsWith)return n instanceof String&&n.startsWith(t.value);if(r===H.EndsWith)return n instanceof String&&n.endsWith(t.value);if(r===H.GraterThanOrEqual)return n>=t.value;if(r===H.GreaterThan)return n>t.value;if(r===H.LowerThan)return n<t.value;if(r===H.LowerThanOrEqual)return n<=t.value;if(r===H.In)return t.value&&t.value.length>0&&h(t.value).any((function(e){return e===n}));throw{message:"Unknown filter type: "+r}}function ce(e){return{name:"array",load:function(t){return{resolver:function(n,r,i){var a=function(e){return h(t.filters).all((function(t){return h(t.filters).any((function(t){return se(e,t)}))}))},o=t.filters.length>0?h(e).where(a).toList():e.slice();t.sorting.length>0&&o.sort((function(e,n){for(var r=0,i=t.sorting;r<i.length;r++){var a=i[r];if(e[a.field]!==n[a.field]){var o=e[a.field]<n[a.field];return"desc"===a.direction&&(o=!o),o?-1:1}}return 0}));var u=null!==t.page&&null!==t.pageSize?o.slice(t.page*t.pageSize,(t.page+1)*t.pageSize):o;n(u,o.length,"local","local"),i()}}}}}n("284c");var de={};["Backspace","Tab","ArrowLeft","ArrowRight"].forEach((function(e){return de[e]=!0}));var fe,pe=l.a.extend({name:"NumericInput",props:{value:{type:Number,default:null},float:{type:Boolean,default:!1},separator:{type:String,default:"."}},data:function(){return{buffer:null!==this.value&&void 0!==this.value?""+this.value:""}},methods:{formatValue:function(e){return e?(""+e).replace(".",this.separator):""},emitValue:function(e){var t=this;e.endsWith(this.separator)&&(e+="0"),e.startsWith(this.separator)&&(e="0"+e),e=e.replace(this.separator,".");var n=function(){return"0"===e?0:e?t.float?parseFloat(e):parseInt(e,10):null}();return n!==this.value&&this.$emit("input",n),n}},render:function(e){var t=this;return e("input",{attrs:{type:"text"},domProps:{value:this.formatValue(this.value)},on:{keydown:function(e){var n=e.target;return!!e.ctrlKey||(e.key>="0"&&e.key<="9"||(!!/F[0-9]{1,2}/.test(e.key)||("-"===e.key&&!n.value||(e.key===t.separator&&t.float?-1===n.value.indexOf(t.separator):!!de[e.key]||("Enter"===e.key?(t.emitValue(n.value),!0):("Escape"===e.key&&(t.emitValue(""+t.value),n.value=""+t.value,e.target.blur()),e.stopPropagation(),e.preventDefault(),!1))))))},blur:function(e){var n=e.target,r=t.emitValue(n.value);n.value=t.formatValue(r)}}})}}),he=l.a.extend({name:"Pager",props:{total:{type:Number,default:0},value:{type:Number,default:0},pageSize:{type:Number,default:10}},computed:{pageCount:function(){return this.total<=0?1:Math.ceil(this.total/this.workingSize)},workingSize:function(){return this.pageSize>=1?this.pageSize:1}},render:function(e){var t=this;return e("div",{class:"dg-pager"},[e("span",K("pagerPage")),e("numeric-input",{props:{value:this.value+1},style:{width:10+20*(""+this.value).length+"px"},on:{input:function(e){var n=e>=1?e-1:0;t.$emit("input",n>=t.pageCount?t.pageCount-1:n<0?0:n)}}}),e("span",K("pagerOfPages")+" "+this.pageCount)])},components:{NumericInput:pe}}),ve=l.a.extend({name:"PageList",props:{total:{type:Number,default:0},value:{type:Number,default:0},pageSize:{type:Number,default:10}},computed:{pageCount:function(){return this.total<=0?1:Math.ceil(this.total/this.workingSize)},workingSize:function(){return this.pageSize>=1?this.pageSize:1}},render:function(e){var t=this,n=function(){for(var e=[],n=t.value-2;n<t.value;n++)n>=0&&e.push(n);e.push(t.value);for(n=t.value+1;e.length<5&&n<t.pageCount;n++)e.push(n);while(e.length<5&&0!==e[0])e.splice(0,0,e[0]-1);return e},r=n().map((function(n){return n===t.value?e("span",{class:"current-page"},""+(n+1)):e("a",{attrs:{href:"#",title:K("pageListItemTitle").replace("%page%",""+(n+1))},on:{click:function(e){e.preventDefault(),t.$emit("input",n)}}},""+(n+1))})),i=[{title:"firstPage",text:"≪",selector:function(){return 0}},{title:"previousPage",text:"<",selector:function(){return t.value>0?t.value-1:0}},{title:"nextPage",text:">",selector:function(){return t.value<t.pageCount-1?t.value+1:t.pageCount-1}},{title:"lastPage",text:"≫",selector:function(){return t.pageCount-1}}],a=i.map((function(n){return e("a",{attrs:{href:"#",title:K(n.title),disabled:n.selector()===t.value?"disabled":null},on:{click:function(e){e.preventDefault(),t.$emit("input",n.selector())}}},n.text)}));return a.splice.apply(a,o([2,0],r)),e("div",{class:"dg-page-list"},a)},components:{NumericInput:pe}}),me=l.a.extend({name:"Checkbox",props:{value:{type:Boolean,default:!1},label:{type:String}},render:function(e){var t=this;return e("label",{},[e("input",{attrs:{type:"checkbox"},domProps:{checked:!!this.value},on:{input:function(e){return t.$emit("input",e.target.checked)}}}),this.label])}}),ge=l.a.extend({name:"BoolFilter",props:{value:{type:Array,default:function(){return[]}},fieldName:{type:String}},render:function(e){var t=this,n=this.value&&this.value.length?this.value[0].filters:[],r=!!n.find((function(e){return e.value})),i=!!n.find((function(e){return!e.value})),a=function(e,n){var r=h([{emit:e,value:!0},{emit:n,value:!1}]).where((function(e){return e.emit})).select((function(e){return{value:e.value,operator:H.Equals,field:t.fieldName}})).toList(),i={filters:r};t.$emit("input",[i])};return e("div",{},[e("Checkbox",{props:{label:K("yes"),value:r},on:{input:function(e){return a(e,i)}}}),e("Checkbox",{props:{label:K("no"),value:i},on:{input:function(e){return a(r,e)}}})])},components:{Checkbox:me}});n("7ddf");(function(e){e["Year"]="year",e["Month"]="month",e["Day"]="day"})(fe||(fe={}));var ye=l.a.extend({name:"CalendarDisplay",props:{value:{type:Date,default:null}},data:function(){return{mode:fe.Day,editValue:null}},methods:{switchMode:function(e,t){this.editValue=t,this.mode=e}},render:function(e){var t=this,n=function(){return t.editValue?t.editValue:t.value?t.value:k()}(),r=q(),i=n.getFullYear(),a=n.getMonth(),o=this.value?new Date(this.value.getFullYear(),this.value.getMonth(),this.value.getDate()).getTime():0,u=function(){var n=v(0,7).select((function(e){return(r.weekStart+e)%7})).toList(),u=new Date(i,a,1),l=new Date(i,a+1,0),s=u.getDay(),c=n.indexOf(s),d=6-n.indexOf(l.getDay()),f=l.getDate(),p=v(-c,f+c+d).select((function(n){var r=new Date(i,a,1+n),u=o===r.getTime();t.value&&(r.setHours(t.value.getHours()),r.setMinutes(t.value.getMinutes()),r.setSeconds(t.value.getSeconds()));var l=function(){return n<0?"dg-prev":n>=f?"dg-next":null}();return e("li",{class:[l,u?"dg-date-selected":null],on:{click:function(e){e.stopPropagation(),t.$emit("input",r)}}},""+r.getDate())}));return e("ul",{class:["dg-days"]},p.toList())},l=function(t){var n=function(t,n,r){return null!=r?e("a",{class:n,attrs:{href:"#"},on:{click:function(e){e.preventDefault(),r()}}},t):null},r=e("div",{class:["dg-links-prev","dg-links"]},[n("《","dg-first",t.onFirst),n("〈","dg-prev",t.onPrev)]),i=e("div",{class:["dg-links-next","dg-links"]},[n("〉","dg-next",t.onNext),n("》","dg-last",t.onLast)]),a=e("div",{class:"dg-title"},t.items.map((function(e){return n(e.title,null,e.action)})));return e("div",{class:"dg-calendar-head"},[r,a,i])},s=function(){var e=[{title:r.monthFormat.replace("{month}",r.monthNamesFull[a]),action:function(){return t.mode=fe.Month}},{title:r.yearFormat.replace("{year}",""+i),action:function(){return t.mode=fe.Year}}];return r.monthFirst||e.reverse(),l({items:e,onFirst:function(){return t.editValue=new Date(i-1,a,1)},onPrev:function(){return t.editValue=new Date(i,a-1,1)},onLast:function(){return t.editValue=new Date(i+1,a,1)},onNext:function(){return t.editValue=new Date(i,a+1,1)}})},c=function(){return l({items:[{title:r.yearFormat.replace("{year}",""+i),action:function(){return t.mode=fe.Year}}],onFirst:function(){return t.editValue=new Date(i-1,a,1)},onLast:function(){return t.editValue=new Date(i+1,a,1)}})},d=function(){var e=i-i%10,n=e+9;return l({items:[{title:r.yearRangeFormat.replace("{from}",""+e).replace("{to}",""+n),action:function(){}}],onFirst:function(){return t.editValue=new Date(i-10,a,1)},onLast:function(){return t.editValue=new Date(i+10,a,1)}})},f=function(){var n=v(0,12).select((function(n){return e("li",{on:{click:function(){return t.switchMode(fe.Day,new Date(i,n,1))}}},r.monthNamesShort[n])}));return e("ul",{class:["dg-months"]},n.toList())},p=function(){var n=i-i%10,r=v(n,10).select((function(n){return e("li",{on:{click:function(){return t.switchMode(fe.Month,new Date(n,a,1))}}},""+n)}));return e("ul",{class:["dg-years"]},r.toList())},h=function(){var t=v(0,7).select((function(e){return(r.weekStart+e)%7})).select((function(t){return e("li",r.dayNames[t])}));return e("ul",{class:"dg-sub-header"},t.toList())},m={};return m[fe.Day]={body:u,header:s,subHeader:h},m[fe.Month]={body:f,header:c,subHeader:function(){return null}},m[fe.Year]={body:p,header:d,subHeader:function(){return null}},e("div",{class:["dg-calendar","dg-type-"+this.mode],on:{click:function(e){return e.stopPropagation()}}},[m[this.mode].header(),m[this.mode].subHeader(),e("div",{class:["dg-calendar-display"]},[m[this.mode].body()])])},components:{}});n("1247");function Se(e){while(1){if(e.classList.contains("dg-scroll-panel"))return e;e=e.parentElement}}var ke=l.a.extend({name:"ScrollPanel",data:function(){return{vOffset:this.value}},props:{value:{type:Number,default:0}},mounted:function(){this.vOffset=this.value},watch:{value:function(){this.vOffset=this.value}},render:function(e){var t=this;return e("div",{class:"dg-scroll-panel",on:{wheel:function(e){e.preventDefault(),t.vOffset+=Math.round(e.deltaY>10?e.deltaY/10:e.deltaY),t.$emit("input",t.vOffset)}},directives:[{name:"ContentMargin",value:{value:this.vOffset,valueAdjust:function(e){t.vOffset=e,t.$emit("input",e)}}},{name:"BarMargin",value:this.vOffset}]},[e("div",{class:"dg-scroll-content"},this.$slots.default),e("div",{class:"dg-scroll-track"},[e("div",{on:{mousedown:function(e){if(0===e.button){e.preventDefault();var n,r=Se(e.target),i=r.querySelector(".dg-scroll-content"),a=r.querySelector(".dg-scroll-track div"),o=r.clientHeight,u=i.clientHeight-o,l=e.pageY,s=t.vOffset,c=o-a.clientHeight,d=function(n){e.stopImmediatePropagation(),e.preventDefault();var r=n.pageY-l,i=r/c;t.vOffset=s+Math.round(i*u),t.$emit("input",t.vOffset)};n=function(t){0===t.button&&(e.preventDefault(),document.body.removeEventListener("mousemove",d),document.body.removeEventListener("mouseup",n))},document.body.addEventListener("mousemove",d),document.body.addEventListener("mouseup",n)}}}})])])},directives:{BarMargin:function(e,t){var n=t.value,r=e.querySelector(".dg-scroll-content"),i=e.querySelector(".dg-scroll-track div"),a=e.clientHeight,o=r.clientHeight-a,u=n/o,l=a-i.clientHeight,s=Math.round(l*u);i.style.marginTop=s+"px"},ContentMargin:function(e,t){var n=t.value,r=e.clientHeight,i=e.querySelector(".dg-scroll-content"),a=i.clientHeight-r,o=Math.max(Math.min(a,n.value),0);o!==n.value&&n.valueAdjust(o),i.style.marginTop="-"+o+"px"}}}),we=(n("4911"),[{kind:c.Hour,getter:function(e){return e.getHours()},count:24,setter:function(e,t){return e.setHours(t)}},{kind:c.Minute,getter:function(e){return e.getMinutes()},count:60,setter:function(e,t){return e.setMinutes(t)}},{kind:c.Second,getter:function(e){return e.getSeconds()},count:60,setter:function(e,t){return e.setSeconds(t)}}]),be=l.a.extend({name:"TimeDisplay",props:{value:{type:Date},format:{type:String,default:q().timeFormat}},data:function(){return{offsets:[{kind:c.Hour,value:0},{kind:c.Minute,value:0},{kind:c.Second,value:0}]}},mounted:function(){this.snapItems()},watch:{value:function(){this.snapItems()}},methods:{snapItems:function(){var e=this.value?this.value:k(),t=this.$el.querySelector("li"),n=t.clientHeight;this.offsets=we.map((function(t){return{kind:t.kind,value:n*t.getter(e)}}))}},render:function(e){var t=this,n=w(this.format).map((function(e){return we.find((function(t){return t.kind===e}))})).filter((function(e){return void 0!==e})),r=function(){return t.value?t.value:k()},i=r(),a=function(n){var a=n.getter(i),o=t.offsets.find((function(e){return e.kind===n.kind}));if(!o)throw{message:"No offset entry for token type: "+n.kind};return e("scroll-panel",{props:{value:o.value},on:{input:function(e){o.value=e;var i=t.$el.querySelector("li"),a=i.clientHeight,u=r(),l=n.getter(u),s=e/a,c=s>=l?Math.min(l+1,Math.ceil(s)):Math.max(l-1,Math.floor(s)),d=Math.max(0,Math.min(c,n.count-1));if(n.getter(u)!==d){var f=new Date(u);n.setter(f,d),t.$emit("input",f)}}}},[e("ul",{},v(0,n.count).select((function(i){return e("li",{class:a===i?"dg-part-selected":null,on:{click:function(){if(a!==i){var e=new Date(r());n.setter(e,i),t.$emit("input",e)}else t.$emit("accept")}}},m(""+i,2,"0"))})).toList())])};return e("div",{class:["dg-time-display","dg-time-"+n.length],on:{click:function(e){return e.stopPropagation()}}},o(n.map((function(e){return a(e)})),[e("div",{class:"dg-select-indicator"})]))},components:{ScrollPanel:ke}});function De(e,t,n){if(t<0||t>e.length-n.length)throw{message:"Index out of range"};return 0===t?n+e.substr(n.length):t===e.length-n.length?e.substr(0,e.length-n.length)+n:e.substr(0,t)+n+e.substr(t+n.length)}var Pe=l.a.extend({name:"DatePicker",props:{value:{default:null},format:{type:String},placeholder:{type:String}},data:function(){return{editValue:"",editIndex:null,popupValue:this.value?this.value:k(),clickListener:null,popupVisible:!1}},mounted:function(){var e=this;this.editValue=this.value?D(this.value,this.format):"",this.clickListener=function(t){t instanceof CustomEvent&&t.detail&&t.detail.sender===e||(e.popupVisible=!1,t.stopPropagation())}},components:{CalendarDisplay:ye,TimeDisplay:be},watch:{popupVisible:function(){if(this.popupVisible){var e=new CustomEvent("dg-date-picker-close",{detail:{sender:this}});document.dispatchEvent(e),document.addEventListener("click",this.clickListener),document.addEventListener("dg-date-picker-close",this.clickListener)}else document.removeEventListener("click",this.clickListener),document.removeEventListener("dg-date-picker-close",this.clickListener)}},render:function(e){var t=this,n=e("input",{attrs:{type:"text",placeholder:this.placeholder},domProps:{value:this.editValue,selectionStart:this.editIndex,selectionEnd:this.editIndex},on:{dgFocus:function(e){e.preventDefault();var n=e.target;n.focus(),t.popupVisible=!1},keydown:function(e){var n=e.target;if("Tab"===e.key)return!0;if("c"===e.key&&e.ctrlKey)return!0;if("a"===e.key&&e.ctrlKey)return!0;if(("v"===e.key||"x"===e.key)&&e.ctrlKey)return t.$nextTick((function(){var e=t.editIndex;t.editValue=L(n.value,t.format)?n.value:"",t.editIndex=Math.min(e>0?e:t.editValue.length,t.editValue.length)})),!0;if(!t.popupVisible&&"Escape"===e.key)return t.editValue="",n.blur(),void e.stopPropagation();if("Enter"===e.key||"Escape"===e.key){t.popupVisible=!1;var r=L(t.editValue,t.format);return t.$emit("input",r),void e.stopPropagation()}return!!/^F\d+$/gm.test(e.key)||(function(){var n=t.editIndex?t.editIndex:0,r=t.editValue?t.editValue:t.placeholder,i=function(){return"ArrowRight"===e.key&&e.ctrlKey?E(n,t.format):"ArrowLeft"===e.key&&e.ctrlKey?T(n,t.format):"ArrowLeft"===e.key?Math.max(0,n-1):"ArrowRight"===e.key?Math.min(n+1,r.length):"Home"===e.key?0:"End"===e.key?r.length:null}();if(null===i)if("Backspace"===e.key&&e.ctrlKey){if(n>0){var a=n,o=T(a,t.format);t.editValue=De(r,o,t.placeholder.substr(o,a-o)),t.editIndex=o}}else if("Delete"===e.key&&e.ctrlKey){if(n<r.length){o=n,a=E(o,t.format);t.editValue=De(r,o,t.placeholder.substr(o,a-o)),t.editIndex=o}}else if("Delete"!==e.key)if("Backspace"!==e.key){if(!(e.key.length>1)){var u=x(e.key,n,t.format),l=e.key>="0"&&e.key<="9";if(u||l){var s=u?n:F(u?n:n+1,t.format),c=F(s+1,t.format);if(!(s>=r.length)){t.editValue=De(r,s,e.key),t.editIndex=c;var d=L(t.editValue,t.format);d&&(t.popupValue=d)}}}}else n>0&&(t.editValue=De(r,n-1,t.placeholder[n-1]),t.editIndex=n-1);else n>=0&&(t.editValue=De(r,n,t.placeholder[n]),t.editIndex++);else t.editIndex=Math.min(i,t.editValue?t.editValue.length:0)}(),e.stopPropagation(),e.preventDefault(),!1)},focus:function(e){var n=e.target;t.$nextTick((function(){return t.editIndex=n.selectionStart?n.selectionStart:0})),t.popupVisible=!0},click:function(e){var n=e.target;t.$nextTick((function(){return t.editIndex=n.selectionStart?n.selectionStart:0})),t.popupVisible=!0,e.stopPropagation(),e.preventDefault()},blur:function(e){var n=L(t.editValue,t.format);t.$emit("input",n),t.editValue=n?D(n,t.format):""}}});return e("div",{class:"dg-date-input",on:{click:function(e){var n=e.target;t.$nextTick((function(){return t.editIndex=n.selectionStart?n.selectionStart:0})),t.popupVisible=!0,e.stopPropagation(),e.preventDefault()}}},[n,this.popupVisible?function(){var n=P(t.editIndex,t.format);if(null===n)return null;var r=n===c.Hour||n===c.Minute||n===c.Second;return r?e("TimeDisplay",{props:{value:t.popupValue,format:t.format},on:{input:function(e){t.popupValue=e,t.$emit("input",t.popupValue),t.editValue=D(t.popupValue,t.format)},accept:function(){return t.popupVisible=!1}}}):e("CalendarDisplay",{props:{value:t.popupValue},on:{input:function(e){t.popupValue=e,t.$emit("input",t.popupValue),t.editValue=D(t.popupValue,t.format);var n=t.$el.querySelector("input[type='text']");n.focus(),t.popupVisible=!1,t.editIndex=t.editValue.length}}})}():null])}}),xe=function(){return{inserted:function(e){var t="input"===e.tagName.toLowerCase()?e:e.querySelector("input");if(t){var n=new Event("dgFocus",{cancelable:!0});!1!==t.dispatchEvent(n)&&t.focus()}}}},Fe=l.a.extend({name:"DateFilter",props:{value:{type:Array,default:function(){return[]}},fieldName:{type:String}},components:{DatePicker:Pe},directives:{focus:xe()},render:function(e){var t=this,n=this.value&&this.value.length?this.value:[],r=n.find((function(e){return"date-from"===e.tag})),i=n.find((function(e){return"date-to"===e.tag})),a=function(e,n){var r=h([{emit:!!e,value:e,tag:"date-from",operator:H.GraterThanOrEqual},{emit:!!n,value:n,tag:"date-to",operator:H.LowerThanOrEqual}]).where((function(e){return e.emit})).select((function(e){return{tag:e.tag,filters:[{value:e.value,operator:e.operator,field:t.fieldName}]}})).toList();t.$emit("input",r)},o=q();return e("div",{class:"dg-date-filter"},[e("div",[K("rangeFrom"),e("DatePicker",{props:{value:r?r.filters[0].value:null,format:o.dateFormat,placeholder:o.datePlaceholder},directives:[{name:"focus"}],on:{input:function(e){a(e,function(){var e=i?i.filters[0].value:null;if(!e)return null;var t=new Date(e);return t.setDate(e.getDate()+1),t}())}}})]),e("div",[K("rangeTo"),e("DatePicker",{props:{value:i?i.filters[0].value:null,format:o.dateFormat,placeholder:o.datePlaceholder},on:{input:function(e){a(r?r.filters[0].value:null,function(){if(!e)return null;var t=new Date(e);return t.setDate(t.getDate()+1),t.setMilliseconds(-1),t}())}}})])])}}),Ee=l.a.extend({name:"DateTimeFilter",props:{value:{type:Array,default:function(){return[]}},fieldName:{type:String}},components:{DatePicker:Pe},directives:{focus:xe()},render:function(e){var t=this,n=this.value&&this.value.length?this.value:[],r=n.find((function(e){return"date-from"===e.tag})),i=n.find((function(e){return"date-to"===e.tag})),a=function(e,n){var r=h([{emit:!!e,value:e,tag:"date-from",operator:H.GraterThanOrEqual},{emit:!!n,value:n,tag:"date-to",operator:H.LowerThanOrEqual}]).where((function(e){return e.emit})).select((function(e){return{tag:e.tag,filters:[{value:e.value,operator:e.operator,field:t.fieldName}]}})).toList();t.$emit("input",r)},o=q();return e("div",{class:"dg-date-filter"},[e("div",[K("rangeFrom"),e("DatePicker",{props:{value:r?r.filters[0].value:null,format:o.dateTimeFormat,placeholder:o.dateTimePlaceholder},directives:[{name:"focus"}],on:{input:function(e){a(e,i?i.filters[0].value:null)}}})]),e("div",[K("rangeTo"),e("DatePicker",{props:{value:i?i.filters[0].value:null,format:o.dateTimeFormat,placeholder:o.dateTimePlaceholder},on:{input:function(e){a(r?r.filters[0].value:null,e)}}})])])}});function Te(e){return 0===e.length?[]:"string"===typeof e[0]?e.map((function(e){return{key:e,value:e}})):"number"===typeof e[0]?e.map((function(e){return{key:""+e,value:""+e}})):e}var Le=l.a.extend({name:"ValueListFilter",props:{value:{type:Array,default:function(){return[]}},fieldName:{type:String},options:{type:Array,default:function(){return[]}}},render:function(e){var t=this,n=this.value&&this.value.length?this.value[0].filters:[],r=n.length>0?n[0].value:[],i={};r.forEach((function(e){return i[e]=!0}));var a={},u=Te(this.options);u.forEach((function(e){return a[e.key]=e.value}));var l=function(e){var n=e.length?[{filters:[{field:t.fieldName,operator:H.In,value:e}]}]:[];t.$emit("input",n)},s=function(t){return e("li",[a[t],e("a",{class:"dg-remove-value",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),l(h(r).where((function(e){return e!==t})).toList())}}},"x")])},c=h(u).where((function(e){return!i[e.key]})).toList();return e("div",{class:"dg-value-list"},[e("ul",r.map(s)),e("select",{on:{change:function(e){e.stopPropagation(),e.preventDefault();var t=e.target,n=r.slice(0);n.push(c[t.selectedIndex-1].key),l(n),setTimeout((function(){return e.target.selectedIndex=0}))}},domProps:{selectedIndex:0}},o([e("option",{class:"dg-select-placeholder"},K("dropdownLabel"))],c.map((function(t){return e("option",[t.value])}))))])},components:{Checkbox:me}}),Me=l.a.extend({name:"NumericFilter",props:{value:{type:Array,default:function(){return[]}},fieldName:{type:String},params:{}},components:{NumericInput:pe},directives:{focus:xe()},render:function(e){var t=this,n=this.value&&this.value.length?this.value:[],r=n.find((function(e){return"range-from"===e.tag})),i=n.find((function(e){return"range-to"===e.tag})),a=n.find((function(e){return"value-equals"===e.tag})),o=function(e,n,r){var i=h([{emit:null===r&&!!e,value:e,tag:"range-from",operator:H.GraterThanOrEqual},{emit:null===r&&!!n,value:n,tag:"range-to",operator:H.LowerThanOrEqual},{emit:null!==r,value:r,tag:"value-equals",operator:H.Equals}]).where((function(e){return e.emit})).select((function(e){return{tag:e.tag,filters:[{value:e.value,operator:e.operator,field:t.fieldName}]}})).toList();t.$emit("input",i)},u=W();return e("div",{class:"dg-numeric-filter"},[e("div",[K("labelValueEquals"),e("NumericInput",{props:{value:a?a.filters[0].value:null,float:this.params.decimal,separator:u.decimalSeparator},directives:[{name:"focus"}],on:{input:function(e){o(null,null,e)}}})]),e("div",[K("rangeFrom"),e("NumericInput",{props:{value:r?r.filters[0].value:null,float:this.params.decimal,separator:u.decimalSeparator},on:{input:function(e){o(e,i?i.filters[0].value:null,null)}}})]),e("div",[K("rangeTo"),e("NumericInput",{props:{value:i?i.filters[0].value:null,float:this.params.decimal,separator:u.decimalSeparator},on:{input:function(e){o(r?r.filters[0].value:null,e,null)}}})])])}}),Ie=l.a.extend({name:"TextFilter",props:{value:{type:Array,default:function(){return[]}},fieldName:{type:String}},directives:{focus:xe()},render:function(e){var t,n=this,r=this.value&&this.value.length?this.value[0].filters:null,i=r?r[0].value:null,a=null!==(t=r?r[0].operator:null)&&void 0!==t?t:H.Contains,o=function(e,t){return n.$emit("input",[{filters:[{field:n.fieldName,operator:t,value:e}]}])},u=[{key:"containsValue",operator:H.Contains},{key:"valueEqual",operator:H.Equals},{key:"valueNotEqual",operator:H.NotEqals},{key:"startsWithValue",operator:H.StartsWith},{key:"endsWithValue",operator:H.EndsWith}];return e("div",{},[e("select",{on:{change:function(e){var t=e.target;o(i,u[t.selectedIndex].operator)}},domProps:{selectedIndex:u.findIndex((function(e){return e.operator===a}))}},u.map((function(t){return e("option",K(t.key))}))),e("input",{domProps:{value:i},attrs:{type:"text"},directives:[{name:"focus"}],on:{input:function(e){return o(e.target.value,a)}}})])}}),Ve=l.a.extend({name:"FilterPopup",props:{value:{type:Array,default:function(){return[]}},fieldName:{type:String},filterComponent:{type:String},filterOptions:{},filterParams:{}},mounted:function(){var e=this;this.mouseDownListener=function(){e.opened=!1},this.closeListener=function(t){t instanceof CustomEvent&&t.detail&&t.detail.sender===e||(e.opened=!1,t.stopPropagation())},this.keyListener=function(t){"Enter"===t.key&&(e.opened=!1,e.$emit("input",e.workingValue),t.stopPropagation()),"Escape"===t.key&&(e.opened=!1,t.stopPropagation())},this.opened&&this.bindEvents()},beforeDestroy:function(){this.unbindEvents()},data:function(){return{opened:!1,workingValue:[]}},methods:{bindEvents:function(){document.addEventListener("mousedown",this.mouseDownListener),document.addEventListener("keydown",this.keyListener),document.addEventListener("dg-filter-popup-close",this.closeListener)},unbindEvents:function(){document.removeEventListener("mousedown",this.mouseDownListener),document.removeEventListener("keydown",this.keyListener),document.removeEventListener("dg-filter-popup-close",this.closeListener)}},watch:{opened:function(){if(this.opened?this.bindEvents():this.unbindEvents(),this.opened){var e=new CustomEvent("dg-filter-popup-close",{detail:{sender:this}});document.dispatchEvent(e)}}},render:function(e){var t=this;return e("div",{class:"dg-column-filter",attrs:{"data-opened":this.opened,"data-has-value":this.value&&this.value.length>0}},[e("a",{class:"dg-popup-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.workingValue=t.value,t.opened=!t.opened},mousedown:function(e){return e.stopPropagation()}}},"▼"),this.opened?e("div",{class:"dg-filter-popup",on:{click:function(e){e.stopPropagation(),document.dispatchEvent(new Event("dg-date-picker-close"))},mousedown:function(e){e.stopPropagation()}},directives:[{name:"adjustSide"}]},[e("div",{attrs:{"data-component":this.filterComponent}},[e("form",{on:{submit:function(e){e.preventDefault(),t.$emit("input",t.workingValue),t.opened=!1}}},[e(this.filterComponent,{props:{value:this.workingValue,options:this.filterOptions,params:this.filterParams,fieldName:this.fieldName},on:{input:function(e){return t.workingValue=e}}}),e("input",{domProps:{type:"submit"},style:{display:"none"}})])]),e("div",{class:"dg-popup-actions"},[e("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.$emit("input",t.workingValue),t.opened=!1}}},K("filterAccept")),e("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.$emit("input",[]),t.opened=!1}}},K("filterReset"))])]):null])},directives:{adjustSide:{inserted:function(e){var t=1.25*e.clientWidth,n=e.getBoundingClientRect();e.classList.add(window.innerWidth-n.left>t?"dg-side-left":"dg-side-right")}}},components:{BoolFilter:ge,DateFilter:Fe,NumericFilter:Me,DateTimeFilter:Ee,TextFilter:Ie,ValueListFilter:Le}}),$e=l.a.extend({name:"TriCheckbox",props:{value:{type:Boolean,default:!1}},render:function(e){var t=this;return e("input",{attrs:{type:"checkbox",checked:!!this.value},domProps:{indeterminate:null===this.value,checked:!!this.value},on:{input:function(e){return t.$emit("input",e.target.checked)},click:function(e){var n=e.target;e.preventDefault(),e.stopPropagation();var r=null!==t.value&&!t.value;return setTimeout((function(){n.checked=r,n.indeterminate=!1})),t.$emit("input",r),!1}}})}});function Ne(e){function t(e){return"string"===typeof e?{field:e,direction:z.Asc}:{field:e.field,direction:e.direction?e.direction:z.Asc}}return Array.isArray(e)?e.map(t):[t(e)]}function Ce(e,t,n){return!(e?!t:t)&&(!e&&!t||e.length===t.length&&n())}function Oe(e,t){return Ce(e,t,(function(){return v(0,e.length).all((function(n){return e[n].direction===t[n].direction&&e[n].field===t[n].field}))}))}function Ae(e,t){return Ce(e,t,(function(){return h(e).zip(t,(function(e,t){return e.field===t.field&&e.operator===t.operator&&e.value===t.value})).all((function(e){return e}))}))}function qe(e,t){return Ce(e,t,(function(){return h(e).zip(t,(function(e,t){return Ae(e.filters,t.filters)})).all((function(e){return e}))}))}function Ye(e,t){return Ce(e,t,(function(){var n={};return e.forEach((function(e){return n[e.field]=e.groups})),h(t).all((function(e){return qe(n[e.field],e.groups)}))}))}var He,ze="FilterField",je=l.a.extend({name:ze,props:{field:{type:String},operator:{type:String,default:H.Equals},value:{default:null}},methods:{getValue:function(){return{field:this.field,value:this.value,operator:this.operator}},notifyParent:function(){var e=this.$parent.onValueSignaled;e&&e()}},mounted:function(){this.notifyParent()},beforeDestroy:function(){this.notifyParent()},watch:{field:"notifyParent",value:"notifyParent"},render:function(e){return e("div")}}),Re="FilterGroup",We=l.a.extend({name:Re,methods:{getValue:function(){return{filters:h(this.$children).where((function(e){return e.$options.name===ze})).cast().select((function(e){return e.getValue()})).toList()}},onValueSignaled:function(){this.notifyParent()},notifyParent:function(){var e=this.$parent.onValueSignaled;e&&e()}},beforeDestroy:function(){this.notifyParent()},mounted:function(){this.notifyParent()},render:function(e){return e("div",this.$slots.default)}}),Ue="GroupField",Be=l.a.extend({name:Ue,props:{field:{type:String},order:{type:Number},direction:{type:String,default:z.Asc}},methods:{notifyParent:function(){var e=this.$parent.onValueSignaled;e&&e()}},mounted:function(){this.notifyParent()},beforeDestroy:function(){this.notifyParent()},watch:{field:"notifyParent",order:"notifyParent",direction:"notifyParent"},render:function(e){return e("div")}});function Ge(e){l.a.config.silent||console.error(e)}function Je(e,t){return oe(e,t||W().defaultRemoteSource)}(function(e){e["None"]="none",e["Single"]="single",e["Multi"]="multi"})(He||(He={}));var Ke,_e=l.a.extend({name:"DataGrid",data:function(){var e=this;return s({vPage:0,vFetchId:0,vDataSource:Je(e.source,e.type),vPageData:[],vSorting:e.sorting?Ne(e.sorting):[],vTotal:0,vColumnFilters:e.columnFilters?e.columnFilters:[],vSelectedIds:e.selectedIds?e.selectedIds:[],vExpanded:{},vIsLoading:!1,vReloadHandler:null,vUri:null,vPageUri:null})},mounted:function(){this.selectionMode===He.None&&this.resetSelection(),Array.isArray(this.vSorting)&&0!==this.vSorting.length||(this.vSorting=this.findColumns().filter((function(e){return null!==e.sortOrder&&void 0!==e.sortOrder&&e.field})).sort((function(e,t){return e.sortOrder-t.sortOrder})).map((function(e){return{field:e.field,direction:"desc"===e.sortDir?z.Desc:z.Asc}})),this.$emit("update:sorting",this.vSorting)),this.switchPage(this.page,!0,!0),this.bindReload(this.reloadEvent)},beforeDestroy:function(){this.bindReload(null)},watch:{page:function(){this.switchPage(this.page)},reloadEvent:function(){this.bindReload(this.reloadEvent)},filters:function(){this.switchPage(this.page)},sourceArgs:function(){this.switchPage(0,!0)},pageSize:function(e,t){var n=t*this.vPage;this.switchPage(Math.floor(n/e),!0)},source:function(){this.vDataSource=Je(this.source,this.type)},soureOptions:function(){this.vDataSource=Je(this.source,this.type)},selectionMode:function(){this.selectionMode===He.None&&this.resetSelection(),this.selectionMode===He.Single&&this.vSelectedIds.length>1&&(this.vSelectedIds=[this.vSelectedIds[0]],this.$emit("update:selectedIds",this.vSelectedIds),this.$emit("update:selected",this.selected?[this.selected[0]]:[]))},selectedIds:function(){this.selectedIds?this.vSelectedIds.length===this.selectedIds.length&&h(this.vSelectedIds).zip(this.selectedIds,(function(e,t){return e===t})).any((function(e){return!e}))||(this.vSelectedIds=this.selectedIds):this.vSelectedIds=[]},vDataSource:function(){this.switchPage(0,!0)},vColumnFilters:function(e,t){Ye(e,t)||this.switchPage(0,!0)},columnFilters:function(){this.vColumnFilters=this.columnFilters},sorting:function(){var e=Ne(this.sorting);Oe(this.vSorting,e)||(this.vSorting=e)},vSorting:function(){this.fetchSource()}},props:{page:{type:Number,default:0},pageSize:{type:Number,default:10},reloadEvent:{type:String,default:"grid:reload"},source:{default:null},type:{default:null},sourceArgs:{default:null},isLoading:{type:Boolean,default:!1},idField:{type:String,default:function(){return W().idField}},sorting:{type:Array,default:function(){return[]}},selectedIds:{type:Array,default:function(){return[]}},selected:{type:Array,default:function(){return[]}},selectionMode:{type:String,default:He.None},sortable:{type:Boolean,default:!0},pageable:{type:Boolean,default:!0},filterable:{type:Boolean,default:!0},keepSelection:{type:Boolean,default:!1},checkboxes:{type:Boolean,default:!0},canReload:{type:Boolean,default:!0},uri:{type:String,default:null},pageUri:{type:String,default:null},rowClass:{type:Function},filters:{},columnFilters:{},detailsTemplate:{default:null},noDataTemplate:{default:null},fieldInfos:{type:Array,default:null},theme:{type:String,default:"dg-light"},groupTemplate:{default:null}},methods:s({switchPage:function(e,t,n){(this.vPage!==e||t)&&(n||this.keepSelection||this.resetSelection(),this.vPage=e,this.$emit("update:page",e),this.fetchSource())},bindReload:function(e){var t=this,n=this.$root;n&&(null!=this.vReloadHandler&&n.$off(this.vReloadHandler.name,this.vReloadHandler.handler),e&&(this.vReloadHandler={name:e,handler:function(){return t.switchPage(t.vPage,!0)}},n.$on(e,this.vReloadHandler.handler)))},onValueSignaled:function(){this.switchPage(0,!0)},selectAll:function(){var e=this;if(!this.keepSelection)return this.vSelectedIds=this.vPageData.map((function(t){return t[e.idField]})),this.$emit("update:selectedIds",this.vSelectedIds),void this.$emit("update:selected",this.vPageData);var t={};this.vSelectedIds.forEach((function(e){t[""+e]=!0}));var n=this.vPageData.filter((function(n){return!t[n[e.idField]]}));this.vSelectedIds=this.vSelectedIds.slice().concat(n.map((function(t){return t[e.idField]}))),this.$emit("update:selectedIds",this.vSelectedIds),this.$emit("update:selected",this.selected?this.selected.slice().concat(n):n)},findColumns:function(){var e=this.$slots.default;return void 0===e?[]:h(e).where((function(e){return void 0!==e.tag&&e.tag.endsWith(d)})).select((function(e){return e.componentOptions&&e.componentOptions.propsData?e.componentOptions.propsData:null})).where((function(e){return null!==e})).cast().toList()},findGrouping:function(){var e=this.$slots.default;return void 0===e?[]:h(e).where((function(e){return void 0!==e.tag&&e.tag.endsWith(Ue)})).select((function(e){return e.componentOptions&&e.componentOptions.propsData?e.componentOptions.propsData:null})).where((function(e){return null!==e})).cast().orderBy((function(e){return e.order})).select((function(e){return{field:e.field,direction:e.direction?e.direction:z.Asc}})).toList()},updateSelection:function(e){var t=this,n=e[this.idField];if(void 0!==n)return this.vSelectedIds.findIndex((function(e){return e===n}))>=0?(this.vSelectedIds=this.vSelectedIds.filter((function(e){return e!==n})),this.$emit("update:selectedIds",this.vSelectedIds),void this.$emit("update:selected",this.selected?this.selected.filter((function(e){return e[t.idField]!==n})):[])):this.selectionMode===He.Single?(this.vSelectedIds=[n],this.$emit("update:selectedIds",this.vSelectedIds),void this.$emit("update:selected",[e])):this.selectionMode===He.Multi?(this.vSelectedIds=this.vSelectedIds.slice().concat([n]),this.$emit("update:selectedIds",this.vSelectedIds),void this.$emit("update:selected",this.selected?this.selected.slice().concat([e]):[e])):void Ge("Unknown selection mode selected: "+this.selectionMode+".");Ge("Data item does not have "+this.idField+" property specified as id.")},resetSelection:function(){this.vSelectedIds=[],this.$emit("update:selectedIds",[]),this.$emit("update:selected",[])},fetchSource:function(){var e=this;this.vFetchId++;var t=this.vFetchId;this.$emit("update:isLoading",!0),this.vIsLoading=!0,this.$nextTick((function(){if(t===e.vFetchId){var n=function(){if(!e.filters)return[];function t(e){return"filters"in e?e:{filters:[e]}}return Array.isArray(e.filters)?e.filters.map(t):[t(e.filters)]},r=h(e.$children).where((function(e){return e.$options.name===Re})).cast().select((function(e){return e.getValue()})).where((function(e){return e.filters.length>0})).toList(),i=h(e.$children).where((function(e){return e.$options.name===ze})).cast().select((function(e){return{filters:[e.getValue()]}})).toList(),a=h(Array.isArray(e.fieldInfos)?e.fieldInfos:[]).select((function(e){return{field:e.field,dataType:e.dataType}})).where((function(e){return!!e.field})).toList(),u={};a.forEach((function(e){return u[e.field]=!0})),e.findColumns().filter((function(e){return e.field&&!u[e.field]})).forEach((function(e){return a.push({dataType:e.type,field:e.field})}));var l={sorting:function(){var t=e.findGrouping(),n={};t.forEach((function(e){return n[e.field]=!0}));var r={};e.vSorting.forEach((function(e){return r[e.field]=e}));var i=t.map((function(e){var t=r[e.field];return t||e})),a=e.vSorting.filter((function(e){return!n[e.field]}));return o(i,a)}(),page:e.pageable?e.vPage:null,pageSize:e.pageable?e.pageSize:null,filters:h(e.vColumnFilters).selectMany((function(e){return e.groups})).concat(r).concat(i).concat(n()).toList(),fields:a,args:e.sourceArgs},s=e.vDataSource.load(l);new Q(s.resolver).always((function(){t===e.vFetchId&&(e.$emit("update:isLoading",!1),e.vExpanded={},e.vIsLoading=!1)})).error((function(t){Ge("Unable to load grid page. Data source error: "+t+"."),e.vPageData=[],e.$emit("update:uri",null),e.$emit("update:pageUri",null),e.vUri=null,e.vPageUri=null,e.vTotal=0})).success((function(n,r,i,a){t===e.vFetchId&&(e.vExpanded={},e.vPageData=n,e.vTotal=r,e.$emit("update:uri",i),e.$emit("update:pageUri",a),e.vUri=i,e.vPageUri=a)})).fetch()}}))}}),render:function(e){var t,n=this,r=!!this.detailsTemplate,i=function(){return n.findColumns().map((function(e){function t(){if(!e.values)return null;if(!Array.isArray(e.values))return null;if(0===e.values.length)return null;if("string"===typeof e.values[0]||"number"===typeof e.values[0])return null;var t={};return e.values.forEach((function(e){return t[e.key]=e.value})),t}return{definition:e,values:t()}}))},a={};this.vSorting.forEach((function(e){return a[e.field]=e.direction?e.direction:z.Asc}));var u={};function l(e,t){if(!t)return null;if(!0===t){var n=J(e);return null!=n?{filter:n.component,params:n.params,options:null}:null}return{filter:t,options:null,params:null}}this.vColumnFilters.forEach((function(e){return u[e.field]=e.groups}));var s=this.selectionMode===He.Multi&&this.checkboxes,c=i(),d=c.map((function(t){var r=t.definition,i=r.headTemplate?n.$scopedSlots[r.headTemplate]:null,o=i?i(r):r.title?r.title:r.field,s=n.sortable&&(r.sortable||void 0===r.sortable)&&r.field,c=r.field?a[r.field]:null,d=void 0===r.filter||r.filter,f=n.filterable&&d?r.values?{filter:"ValueListFilter",options:r.values,params:null}:l(r.type,d):null,p=[o,e("span",{class:"sort-direction"},c?"asc"===c?"↑":"↓":""),f&&r.field?e("FilterPopup",{props:{value:u[r.field],fieldName:r.field,filterComponent:f?f.filter:null,filterParams:f?f.params:null,filterOptions:f?f.options:null},on:{input:function(e){var t=h(n.vColumnFilters).where((function(e){return e.field!==r.field})).toList();e.length>0&&t.push({field:r.field,groups:e}),n.$emit("update:columnFilters",t),n.vColumnFilters=t}}}):null];return r.icon&&p.splice(0,0,e("i",{class:r.icon,attrs:{"aria-hidden":!0}})),e("th",{class:s?"can-sort":null,on:{click:function(e){if(s&&r.field){e.preventDefault();var t=n.vSorting.find((function(e){return e.field===r.field})),i=a(t?t.direction:void 0);n.vSorting=i?[{field:r.field,direction:i}]:[],n.$emit("update:sorting",n.vSorting)}function a(e){return e===z.Asc?z.Desc:e===z.Desc?null:z.Asc}}}},p)})),f={};this.vSelectedIds.forEach((function(e){f[""+e]=!0})),r&&d.splice(0,0,e("th",{class:"dg-details"})),s&&d.splice(0,0,e("th",{class:"dg-selector"},[e("TriCheckbox",{props:{value:0!==this.vSelectedIds.length&&(!((this.keepSelection?this.vTotal:this.vPageData.length)!==this.vSelectedIds.length||!h(this.vPageData).all((function(e){return f[e[n.idField]]})))||null)},on:{input:function(e){e?n.selectAll():n.resetSelection()}}})]));var p=function(t,r){var i=r.definition,a=function(){if(i.render)return i.render(i.field?t[i.field]:null,t,e);if(!i.template){if(!i.field)return Ge("Data column has no field and no template defined. It will be always empty."),"";var a=t[i.field];if(r.values){var o=r.values[""+a];return void 0!==o?o:""+a}return G(i.type)(a,void 0!==i.formatOptions?i.formatOptions:null,e,t)}var u=function(e){var r=n.$scopedSlots[e];return r?r({row:t,value:i.field?t[i.field]:null}):(Ge("Unable to find scoped slot named '"+e+"' defined as template for grid data column."),"")};if("string"===typeof i.template)return u(i.template);var l=i.template(i.field?t[i.field]:null,t,e);return"string"===typeof l?u(l):l};return e("td",[a()])},v=function(t){var i=c.map((function(e){return p(t,e)}));r&&i.splice(0,0,e("td",{class:"dg-details"},[e("a",{attrs:{href:"#",class:n.vExpanded[t[n.idField]]?"dg-expanded":null},on:{click:function(e){e.preventDefault(),n.vExpanded[t[n.idField]]=!n.vExpanded[t[n.idField]],n.$forceUpdate()}}},"▲")])),s&&i.splice(0,0,e("td",{class:"dg-selector"},[e("TriCheckbox",{props:{value:!!f[t[n.idField]]},on:{input:function(){return n.updateSelection(t)}}})]));var a=["dg-data-row",f[t[n.idField]]?"dg-selected":null];if(n.rowClass){var o=n.rowClass(t);Array.isArray(o)&&a.push.apply(a,o),"string"===typeof o&&a.push(o)}var u=[e("tr",{class:a.length>0?a:void 0,on:{click:function(e){n.selectionMode!==He.None&&(e.preventDefault(),e.stopPropagation(),n.updateSelection(t))}}},i)];if(n.vExpanded[t[n.idField]]){var l=function(e){var r=n.$scopedSlots[e];return r?r({item:t}):(Ge("Unable to find scoped slot named '"+n.detailsTemplate+"' for details row."),null)},d=function(){if("string"!==typeof n.detailsTemplate){var r=n.detailsTemplate(t,e);return"string"===typeof r?l(r):r}return l(n.detailsTemplate)};u.push(e("tr",{class:"dg-details-row"},[e("td",{attrs:{colspan:i.length}},[d()])]))}return u},m=function(t,r){for(var i={},a=0;a<r.length;a++)i[r[a]]=t[a];var o=function(){if(!n.groupTemplate)return t.join(", ");if("string"===typeof n.groupTemplate){var r=n.$scopedSlots[n.groupTemplate];return r?r({group:i}):(Ge("Unable to find scoped slot named '"+n.groupTemplate+"' defined as template for grid data group."),t.join(", "))}return n.groupTemplate(i,e)};return e("tr",{class:"dg-grouping-row"},[e("td",{attrs:{colspan:c.length+(s?1:0)}},[o()])])},g=c.map((function(t){return e("col",{style:{width:t.definition.width?t.definition.width:void 0}})}));r&&g.unshift(e("col",{style:{width:"5px"}})),s&&g.unshift(e("col",{class:"dg-col-checkboxes"}));var y=e("thead",{class:"dg-head"},[e("tr",{},d)]),S=function(){var e=n.findGrouping(),t=h(n.vPageData);return 0===e.length?t.selectMany(v).toList():t.groupSorted((function(t){return e.map((function(e){return t[e.field]}))})).selectMany((function(t){return o([m(t.key,e.map((function(e){return e.field})))],t.values.map(v).flat())})).toList()}(),k=e("tbody",{class:"dg-body"},S),w=e("table",{class:"dg-table"},[e("colgroup",{},g),y,k]),b=function(){if(!n.noDataTemplate)return null;if("string"!==typeof n.noDataTemplate){var t=n.noDataTemplate(e);return"string"===typeof t?n.$slots[t]:t}return n.$slots[n.noDataTemplate]}(),D=S.length>0,P=e("div",{class:"dg-hidden"},this.$slots.default?this.$slots.default:[]),x=e("pager",{props:{value:this.vPage,pageSize:this.pageSize,total:this.vTotal},on:{input:function(e){n.switchPage(e),n.$emit("update:page",e)}}}),F=e("page-list",{props:{value:this.vPage,pageSize:this.pageSize,total:this.vTotal},on:{input:function(e){n.switchPage(e),n.$emit("update:page",e)}}}),E=e("a",{class:"dg-reload",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),n.switchPage(n.vPage,!0)}}},[e("i",{class:"icon-arrows-cw"})]);return e("div",{class:["dg-grid",this.theme,this.vIsLoading?"dg-loading":null,D?"dg-has-data":"dg-no-data"]},[P,w,D?null:b,this.pageable?e("div",{class:"dg-footer"},o([this.canReload?E:null,F,x],null!==(t=this.$slots.footer)&&void 0!==t?t:[])):null,this.vIsLoading?e("div",{class:"dg-loader"}):null])},components:{Pager:he,PageList:ve,FilterPopup:Ve,TriCheckbox:$e}});function Xe(e){if(e===H.Equals)return"eq";if(e===H.GraterThanOrEqual)return"ge";if(e===H.GreaterThan)return"gt";if(e===H.LowerThan)return"lt";if(e===H.LowerThanOrEqual)return"le";throw{message:"Unknown odata filter type: "+e}}function Ze(e){if(e===z.Asc)return"asc";if(e===z.Desc)return"desc";throw{message:"Unknown odata sort direction: "+e}}function Qe(e,t){var n=e===Ke.Version3?"odata.count":"@odata.count";return{items:t.value,total:parseInt(t[n],10)}}function et(e,t){return t instanceof Date?"DateTime'"+D(t,"YYYY-MM-DDTHH:mm:ss")+"'":"boolean"===typeof t?t?"true":"false":"number"!==typeof t?"'"+t+"'":e&&"decimal"===e.dataType?t+"m":t}function tt(e,t){return t instanceof Date?""+D(t,"YYYY-MM-DDTHH:mm:ssz"):"boolean"===typeof t?t?"true":"false":"number"!==typeof t?"'"+t+"'":e&&"decimal"===e.dataType?t+"m":t}function nt(e,t,n){var r=n.filters.map((function(t){return t.filters.map((function(t){var r=le(t.operator),i=n.fields.find((function(e){return e.field===t.field})),a=e===Ke.Version3?et:tt;if(r===H.NotEqals)return"not("+t.field+" eq "+a(i,t.value)+")";if(r===H.Contains)return e===Ke.Version3?"substringof("+a(i,t.value)+", "+t.field+")":"contains("+t.field+", "+a(i,t.value)+")";if(r===H.StartsWith)return"startswith("+t.field+", "+a(i,t.value)+")";if(r===H.EndsWith)return"endswith("+t.field+", "+a(i,t.value)+")";if(r===H.In){if(!t.value||0===t.value.length)return null;var o=t.value.map((function(e){return"("+t.field+" eq "+a(i,e)+")"})).join(" or ");return t.value.length>1?"("+o+")":o}return t.field+" "+Xe(r)+" "+a(i,t.value)})).filter((function(e){return!!e})).join(" and ")})),i=r.length>1?r.map((function(e){return"("+e+")"})).join(" and "):r.length>0?r[0]:null,a=n.sorting.length>0?n.sorting.map((function(e){return e.field+" "+Ze(e.direction)})).join(", "):null,u=function(){if(!n.args)return[];var e=n.args;return Array.isArray(e.vars)?e.vars:[]}(),l=o([{name:"$filter",value:i},{name:"$orderby",value:a}],u).filter((function(e){return null!==e.value})).map((function(e){return e.name+"="+e.value})).join("&"),s=t+"?"+l,c=l?"&":"",d=e===Ke.Version3?{name:"$inlinecount",value:"allpages"}:{name:"$count",value:"true"},f=[{name:"$top",value:n.pageSize},{name:"$skip",value:null!==n.pageSize&&null!==n.page?n.page*n.pageSize:null},d].filter((function(e){return null!==e.value})).map((function(e){return e.name+"="+e.value})).join("&");return{dataUrl:s,pageUrl:""+s+c+f}}function rt(e){if(e===H.Equals)return"eq";if(e===H.GraterThanOrEqual)return"gte";if(e===H.GreaterThan)return"gt";if(e===H.LowerThan)return"lt";if(e===H.LowerThanOrEqual)return"lte";if(e===H.Contains)return"contains";if(e===H.NotEqals)return"neq";if(e===H.StartsWith)return"startswith";if(e===H.EndsWith)return"endswith";throw{message:"Unknown odata filter type: "+e}}function it(e){if(e===z.Asc)return"asc";if(e===z.Desc)return"desc";throw{message:"Unknown odata sort direction: "+e}}function at(e){return{items:e.Data,total:e.Total}}function ot(e,t){var n=t.filters.map((function(e){return e.filters.map((function(e){var t=le(e.operator);function n(e){return e instanceof Date?"datetime'"+D(e,"YYYY-MM-DDTHH-mm-ss")+"'":"number"!==typeof e?"'"+e+"'":e}if(t===H.In){if(!e.value||0===e.value.length)return null;var r=e.value.map((function(t){return"("+e.field+"~eq~"+n(t)+")"})).join("~or~");return e.value.length>1?"("+r+")":r}return e.field+"~"+rt(t)+"~"+n(e.value)})).filter((function(e){return null!==e})).join("~and~")})),r=n.length>1?n.map((function(e){return"("+e+")"})).join("~and~"):n.length>0?n[0]:null,i=t.sorting.map((function(e){return e.field+"-"+it(e.direction)})).join("~"),a=[{name:"filter",value:r},{name:"sort",value:i}].filter((function(e){return e.value})).map((function(e){return e.name+"="+e.value})).join("&"),o=e+"?"+a,u=a?"&":"",l=(null!==t.page?t.page:0)+1,s=null!==t.pageSize?t.pageSize:1e3;return{dataUrl:o,pageUrl:""+o+u+"pageSize="+s+"&page="+l}}(function(e){e[e["Version3"]=3]="Version3",e[e["Version4"]=4]="Version4"})(Ke||(Ke={}));var ut={dateFormat:"YYYY-MM-DD",datePlaceholder:"yyyy-mm-dd",timeFormat:"HH:mm",timePlaceholder:"hh:mm",dateTimeFormat:"YYYY-MM-DD HH:mm",dateTimePlaceholder:"yyyy-mm-dd hh:mm",dayNames:["N","Pn","Wt","Śr","Czw","Pt","So"],monthNamesFull:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthNamesShort:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],weekStart:1,yearFormat:"{year}",yearRangeFormat:"{from} - {to}",monthFormat:"{month}",monthFirst:!0},lt={thousandSeparator:" ",decimalPrecision:2,decimalSeparator:","},st={yes:"Tak",no:"Nie",pagerPage:"Strona",pagerOfPages:"z",firstPage:"Pierwsza strona",previousPage:"Poprzednia strona",nextPage:"Następna strona",lastPage:"Ostatnia strona",pageListItemTitle:"Strona %page%",filterAccept:"OK",filterReset:"Usuń",dropdownLabel:"Wybierz...",rangeFrom:"Od:",rangeTo:"Do:",containsValue:"Zawiera",startsWithValue:"Zaczyna się od",endsWithValue:"Kończy się na",valueNotEqual:"Nie równa się",valueEqual:"Równa się",labelValueEquals:"Równa się:"},ct={settings:lt,text:st,calendar:ut},dt=ct,ft={dateFormat:"DD-MM-YYYY",datePlaceholder:"dd-mm-yyyy",timeFormat:"HH:mm",timePlaceholder:"hh:mm",dateTimeFormat:"DD-MM-YYYY HH:mm",dateTimePlaceholder:"dd-mm-yyyy hh:mm",dayNames:["D","S","T","Q","Q","S","S"],monthNamesFull:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],weekStart:1,yearFormat:"{year}",yearRangeFormat:"{from} - {to}",monthFormat:"{month}",monthFirst:!0},pt={thousandSeparator:" ",decimalPrecision:2,decimalSeparator:","},ht={yes:"Sim",no:"Não",pagerPage:"Por pagina",pagerOfPages:"de",firstPage:"Primeiro",previousPage:"Anterior",nextPage:"Proxima",lastPage:"Ultima",pageListItemTitle:"Página %page%",filterAccept:"OK",filterReset:"Limpar",dropdownLabel:"Escolha...",rangeFrom:"De:",rangeTo:"Até:",containsValue:"Cotém",startsWithValue:"Começa com",endsWithValue:"Termina com",valueNotEqual:"Diferente",valueEqual:"Igual",labelValueEquals:"É igual a:"},vt={settings:pt,text:ht,calendar:ft},mt=vt,gt={plPL:dt,ptBR:mt},yt={DataGrid:_e,DataColumn:f,FilterGroup:We,FilterField:je,GroupField:Be},St={install:function(e){Object.keys(yt).forEach((function(t){return e.component(t,yt[t])}))},addType:B,addSource:te,addRemoteSource:ae,addXhrHook:re,setCalendar:Y,setSettings:R,setFilterComponent:_,setLanguage:U,setLocale:A,locales:gt};ae("odata3",(function(e,t){return nt(3,e,t)}),(function(e){return Qe(3,e)})),ae("odata4",(function(e,t){return nt(4,e,t)}),(function(e){return Qe(4,e)})),ae("odata",(function(e,t){return nt(4,e,t)}),(function(e){return Qe(4,e)})),ae("kendo-mvc",ot,at);var kt=St;t["default"]=kt}})["default"]}));
//# sourceMappingURL=DataGrid.umd.min.js.map